{% extends "base.html" %}

{% block title %}{{ archive.display_name }} - User Archives{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/projects.css') }}">
{% endblock %}

{% block content %}
<div class="archive-view">
    <div class="archive-header">
        <h1>{{ archive.display_name }}</h1>
        <p class="archive-username">@{{ archive.username }}</p>
    </div>

    <div class="projects-section">
        <h2>Projects</h2>
        <div id="projects-container">
            {% if projects %}
                {% for project in projects %}
                <div class="project-card-full">
                    <h3>{{ project.title }}</h3>
                    {% if project.palette %}
                    <div class="palette-display-short">
                        {% for color in project.palette %}
                        <div class="color-swatch-short" style="background-color: {{ color }};" title="{{ color }}">
                            <span class="color-hex-overlay">{{ color }}</span>
                        </div>
                        {% endfor %}
                    </div>
                    {% endif %}
                    {% if project.images %}
                    <div class="graphics-gallery" style="
                        grid-template-columns: repeat(auto-fill, minmax({{ project.img_width }}px, 1fr));
                        gap: {{ project.img_gap }}px;
                    ">
                        {% for image in project.images %}
                        <div class="graphic-item" style="
                            width: {{ project.img_width }}px;
                            height: {{ project.img_height }}px;
                            border-radius: {{ project.img_radius }}px;
                        ">
                            <img src="{{ url_for('archives.uploaded_file', filename=image.filepath) }}" 
                                 alt="{{ image.filename }}"
                                 style="object-fit: {{ project.img_fit }}; width: 100%; height: 100%; border-radius: {{ project.img_radius }}px;">
                        </div>
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>
                {% endfor %}
            {% else %}
                <p class="empty-state">No projects yet.</p>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}
